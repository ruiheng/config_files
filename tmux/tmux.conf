#set-option -g mouse-select-pane on
set-option -g mouse on
set-option -g status-keys vi
set-option -sg escape-time 10
set-option -g default-terminal "tmux-256color"
set-option -g set-titles on
set-option -g set-titles-string "#S / #W"

setw -g mode-keys vi
#setw -g mode-mouse on

set -g history-limit 24096

set -g @plugin 'tmux-plugins/tmux-resurrect'

set -g @resurrect-processes 'ssh ~frpc'

run -b '~/config_files/tmux/plugins/tpm/tpm'

# agent-deck configuration
# agent-deck-tmux-config-version: 2
# Added by agent-deck installer - 2026-02-24
# https://github.com/asheshgoplani/agent-deck

# Terminal with true color support
set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm*:Tc:smcup@:rmcup@"
set -ag terminal-overrides ",*256col*:Tc"

# Performance
set -sg escape-time 0
set -g history-limit 50000

# Mouse support (scroll + drag-to-copy)
set -g mouse on

# Auto-enter copy-mode when scrolling up (critical for WSL compatibility)
# This handles: 1) apps with mouse support, 2) already in copy-mode, 3) normal pane
bind-key -n WheelUpPane if-shell -F -t = "#{mouse_any_flag}" "send-keys -M" "if -Ft= '#{pane_in_mode}' 'send-keys -M' 'copy-mode -e'"

# Scroll bindings in copy-mode (both vi and emacs modes)
bind-key -T copy-mode-vi WheelUpPane send-keys -X scroll-up
bind-key -T copy-mode-vi WheelDownPane send-keys -X scroll-down
bind-key -T copy-mode WheelUpPane send-keys -X scroll-up
bind-key -T copy-mode WheelDownPane send-keys -X scroll-down

# Clipboard integration (drag-to-copy)
bind-key -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "wl-copy"
bind-key -T copy-mode MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "wl-copy"
# End agent-deck configuration

